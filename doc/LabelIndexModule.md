# Topic Mapping Pipeline - 2020 [![CC BY-NC 4.0][cc-by-nc-shield]][cc-by-nc]
# Label Index Module

The Label Index module is the sixth module of the Topic Mapping pipeline, and first in the `P4_Analysis` package.
It reads the top words from topic data to create an index of labels which is then saved in an ***Index JSON file***.

The use of this module is optional.

The Label Index module is contained in the `P4_Analysis.LabelIndex` package, in the `LabelIndexing.java` class.

## Specifications

The Label Index module entry in the project file should have the following structure:
```json5
{...
  "indexLabels": {
    "documents": "path",
    "mainTopics": "path",
    "subTopics": "path",
    "useAllDocuments": false,
    "useAllLabels": false,
    "output": "path"
  },
...}
``` 

Where:
- `documents` is the path to the documents JSON file (generated by the [Topic Model module](ModelModule.md)), it is
optional, if set, the module will index the labels in documents as well as topics;
- `mainTopics` is the path to the topics JSON file (generated by the simple
[Topic Modelling module](ModelModule.md)), or to the main topics JSON file (generated by the
[Hierarchical Topic Modelling module](ModelModule.md));
- `subTopics` is the path to the sub topics JSON file (generated by the
[Hierarchical Topic Modelling module](ModelModule.md)), it is optional and won't index labels from sub topics if not 
specified;
- `useAllDocuments` defines if the module should index from the complete document list (`true`), or only from the
topics' top documents (`false`), it is optional, only used if `documents` is set, and defaults to `false`;
- `useAllLabels` defines if the module should index the complete list of labels from documents (`true`), or only the
top labels from topics (`false`), it is optional, only used if `documents` is set, and defaults to `false`;
- `output` is the path to the index JSON file to create.

Note that sub-topics won't be explored if the meta-parameter `modelType` is set to `simple`.

## Output

The Label Index module generates an index JSON file with the following structure:
```json5
{
  "label1":{
    "mainTopics": ["id", ... ],
    "subTopics": [["id", ["mainTopicId", ... ]], ... ],
    "documents": ["id", ... ]
  },
  "label2":{
    "mainTopics": ["id", ... ],
    "subTopics": [["id", ["mainTopicId", ... ]], ... ],
    "documents": ["id", ... ]
  },
...}
```

It lists all the labels indexed and attach an object to them, with the following lists:
- `mainTopics` the list of topic ids from the `mainTopics` JSON file containing this label;
- `subTopics` the list of tuple, with the first item being a topic id from the `subTopics` JSON file containing this 
label, and the second item the list of ids for the assigned main topics;
- `documents` the list of document ids from the `documents` JSON file containing this label.

---

[< Previous](ExportModule.md) | [Index](index.md) | [Next >](TopicDistributionModule.md)

---
This work is licensed under a [Creative Commons Attribution 4.0 International
License][cc-by-nc].

[![CC BY-NC 4.0][cc-by-nc-image]][cc-by-nc]

[cc-by-nc]: http://creativecommons.org/licenses/by-nc/4.0/
[cc-by-nc-image]: https://i.creativecommons.org/l/by-nc/4.0/88x31.png
[cc-by-nc-shield]: https://img.shields.io/badge/License-CC%20BY--NC%204.0-lightgrey.svg
